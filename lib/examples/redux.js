"use strict";

var createStore = function createStore(reducer) {
  var state,
      listeners = [];

  var getState = function getState() {
    return state;
  };

  var dispatch = function dispatch(action) {
    state = reducer(state, action);
    listeners.forEach(function (listener) {
      return listener();
    });
  };

  var subscribe = function subscribe(listener) {
    listeners.push(listener);
    return function () {
      unsubscribe(listener);
    };
  };

  var unsubscribe = function unsubscribe(l) {
    listeners = listeners.filter(function (listener) {
      return listener !== l;
    });
  };

  dispatch({});
  return {
    getState: getState,
    dispatch: dispatch,
    subscribe: subscribe,
    unsubscribe: unsubscribe
  };
};

var combineReducers = function combineReducers(reducers) {
  return function () {
    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    var action = arguments.length > 1 ? arguments[1] : undefined;
    var keys = Object.keys(reducers),
        nextState = keys.reduce(function (nextState, key) {
      var reducer = reducers[key];
      nextState[key] = reducer(state[key], action);
      return nextState;
    }, {});
    return nextState;
  };
};

var Redux = {
  createStore: createStore,
  combineReducers: combineReducers
};
module.exports = Redux;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlZHV4LmpzIl0sIm5hbWVzIjpbImNyZWF0ZVN0b3JlIiwicmVkdWNlciIsInN0YXRlIiwibGlzdGVuZXJzIiwiZ2V0U3RhdGUiLCJkaXNwYXRjaCIsImFjdGlvbiIsImZvckVhY2giLCJsaXN0ZW5lciIsInN1YnNjcmliZSIsInB1c2giLCJ1bnN1YnNjcmliZSIsImwiLCJmaWx0ZXIiLCJjb21iaW5lUmVkdWNlcnMiLCJyZWR1Y2VycyIsImtleXMiLCJPYmplY3QiLCJuZXh0U3RhdGUiLCJyZWR1Y2UiLCJrZXkiLCJSZWR1eCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLElBQU1BLFdBQVcsR0FBRyxTQUFkQSxXQUFjLENBQUNDLE9BQUQsRUFBYTtBQUMvQixNQUFJQyxLQUFKO0FBQUEsTUFDSUMsU0FBUyxHQUFHLEVBRGhCOztBQUdBLE1BQU1DLFFBQVEsR0FBRyxTQUFYQSxRQUFXLEdBQU07QUFDckIsV0FBT0YsS0FBUDtBQUNELEdBRkQ7O0FBSUEsTUFBTUcsUUFBUSxHQUFHLFNBQVhBLFFBQVcsQ0FBQ0MsTUFBRCxFQUFZO0FBQzNCSixJQUFBQSxLQUFLLEdBQUdELE9BQU8sQ0FBQ0MsS0FBRCxFQUFRSSxNQUFSLENBQWY7QUFFQUgsSUFBQUEsU0FBUyxDQUFDSSxPQUFWLENBQWtCLFVBQUNDLFFBQUQ7QUFBQSxhQUFjQSxRQUFRLEVBQXRCO0FBQUEsS0FBbEI7QUFDRCxHQUpEOztBQU1BLE1BQU1DLFNBQVMsR0FBRyxTQUFaQSxTQUFZLENBQUNELFFBQUQsRUFBYztBQUM5QkwsSUFBQUEsU0FBUyxDQUFDTyxJQUFWLENBQWVGLFFBQWY7QUFFQSxXQUFRLFlBQU07QUFDWkcsTUFBQUEsV0FBVyxDQUFDSCxRQUFELENBQVg7QUFDRCxLQUZEO0FBR0QsR0FORDs7QUFRQSxNQUFNRyxXQUFXLEdBQUcsU0FBZEEsV0FBYyxDQUFDQyxDQUFELEVBQU87QUFDekJULElBQUFBLFNBQVMsR0FBR0EsU0FBUyxDQUFDVSxNQUFWLENBQWlCLFVBQUNMLFFBQUQsRUFBYztBQUN6QyxhQUFRQSxRQUFRLEtBQUtJLENBQXJCO0FBQ0QsS0FGVyxDQUFaO0FBR0QsR0FKRDs7QUFNQVAsRUFBQUEsUUFBUSxDQUFDLEVBQUQsQ0FBUjtBQUVBLFNBQU87QUFBRUQsSUFBQUEsUUFBUSxFQUFSQSxRQUFGO0FBQVlDLElBQUFBLFFBQVEsRUFBUkEsUUFBWjtBQUFzQkksSUFBQUEsU0FBUyxFQUFUQSxTQUF0QjtBQUFpQ0UsSUFBQUEsV0FBVyxFQUFYQTtBQUFqQyxHQUFQO0FBQ0QsQ0EvQkQ7O0FBaUNBLElBQU1HLGVBQWUsR0FBRyxTQUFsQkEsZUFBa0IsQ0FBQ0MsUUFBRCxFQUFjO0FBQ3BDLFNBQU8sWUFBd0I7QUFBQSxRQUF2QmIsS0FBdUIsdUVBQWYsRUFBZTtBQUFBLFFBQVhJLE1BQVc7QUFDN0IsUUFBTVUsSUFBSSxHQUFHQyxNQUFNLENBQUNELElBQVAsQ0FBWUQsUUFBWixDQUFiO0FBQUEsUUFDTUcsU0FBUyxHQUFHRixJQUFJLENBQUNHLE1BQUwsQ0FBWSxVQUFDRCxTQUFELEVBQVlFLEdBQVosRUFBb0I7QUFDMUMsVUFBTW5CLE9BQU8sR0FBR2MsUUFBUSxDQUFDSyxHQUFELENBQXhCO0FBRUFGLE1BQUFBLFNBQVMsQ0FBQ0UsR0FBRCxDQUFULEdBQWlCbkIsT0FBTyxDQUFDQyxLQUFLLENBQUNrQixHQUFELENBQU4sRUFBYWQsTUFBYixDQUF4QjtBQUVBLGFBQU9ZLFNBQVA7QUFDRCxLQU5XLEVBTVQsRUFOUyxDQURsQjtBQVNBLFdBQU9BLFNBQVA7QUFDRCxHQVhEO0FBWUQsQ0FiRDs7QUFlQSxJQUFNRyxLQUFLLEdBQUc7QUFBRXJCLEVBQUFBLFdBQVcsRUFBWEEsV0FBRjtBQUFlYyxFQUFBQSxlQUFlLEVBQWZBO0FBQWYsQ0FBZDtBQUVBUSxNQUFNLENBQUNDLE9BQVAsR0FBaUJGLEtBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmNvbnN0IGNyZWF0ZVN0b3JlID0gKHJlZHVjZXIpID0+IHtcbiAgbGV0IHN0YXRlLFxuICAgICAgbGlzdGVuZXJzID0gW107XG5cbiAgY29uc3QgZ2V0U3RhdGUgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHN0YXRlO1xuICB9O1xuXG4gIGNvbnN0IGRpc3BhdGNoID0gKGFjdGlvbikgPT4ge1xuICAgIHN0YXRlID0gcmVkdWNlcihzdGF0ZSwgYWN0aW9uKTtcblxuICAgIGxpc3RlbmVycy5mb3JFYWNoKChsaXN0ZW5lcikgPT4gbGlzdGVuZXIoKSk7XG4gIH07XG5cbiAgY29uc3Qgc3Vic2NyaWJlID0gKGxpc3RlbmVyKSA9PiB7XG4gICAgbGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuXG4gICAgcmV0dXJuICgoKSA9PiB7XG4gICAgICB1bnN1YnNjcmliZShsaXN0ZW5lcik7XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgdW5zdWJzY3JpYmUgPSAobCkgPT4ge1xuICAgIGxpc3RlbmVycyA9IGxpc3RlbmVycy5maWx0ZXIoKGxpc3RlbmVyKSA9PiB7XG4gICAgICByZXR1cm4gKGxpc3RlbmVyICE9PSBsKTtcbiAgICB9KTtcbiAgfTtcblxuICBkaXNwYXRjaCh7fSk7XG5cbiAgcmV0dXJuIHsgZ2V0U3RhdGUsIGRpc3BhdGNoLCBzdWJzY3JpYmUsIHVuc3Vic2NyaWJlIH07XG59O1xuXG5jb25zdCBjb21iaW5lUmVkdWNlcnMgPSAocmVkdWNlcnMpID0+IHtcbiAgcmV0dXJuIChzdGF0ZSA9IHt9LCBhY3Rpb24pID0+IHtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMocmVkdWNlcnMpLFxuICAgICAgICAgIG5leHRTdGF0ZSA9IGtleXMucmVkdWNlKChuZXh0U3RhdGUsIGtleSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVkdWNlciA9IHJlZHVjZXJzW2tleV07XG5cbiAgICAgICAgICAgIG5leHRTdGF0ZVtrZXldID0gcmVkdWNlcihzdGF0ZVtrZXldLCBhY3Rpb24pO1xuXG4gICAgICAgICAgICByZXR1cm4gbmV4dFN0YXRlO1xuICAgICAgICAgIH0sIHt9KTtcblxuICAgIHJldHVybiBuZXh0U3RhdGU7XG4gIH07XG59O1xuXG5jb25zdCBSZWR1eCA9IHsgY3JlYXRlU3RvcmUsIGNvbWJpbmVSZWR1Y2VycyB9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlZHV4O1xuIl19