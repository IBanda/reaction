"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var createStore = function createStore(reducer) {
  var state,
      listeners = [];

  var getState = function getState() {
    return state;
  };

  var dispatch = function dispatch(action) {
    state = reducer(state, action);
    listeners.forEach(function (listener) {
      return listener();
    });
  };

  var subscribe = function subscribe(listener) {
    listeners.push(listener);
    return function () {
      unsubscribe(listener);
    };
  };

  var unsubscribe = function unsubscribe(l) {
    listeners = listeners.filter(function (listener) {
      return listener !== l;
    });
  };

  dispatch({});
  return {
    getState: getState,
    dispatch: dispatch,
    subscribe: subscribe,
    unsubscribe: unsubscribe
  };
};

var combineReducers = function combineReducers(reducers) {
  return function () {
    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    var action = arguments.length > 1 ? arguments[1] : undefined;
    var keys = Object.keys(reducers),
        nextState = keys.reduce(function (nextState, key) {
      var reducer = reducers[key];
      nextState[key] = reducer(state[key], action);
      return nextState;
    }, {});
    return nextState;
  };
};

var Redux = {
  createStore: createStore,
  combineReducers: combineReducers
};
var _default = Redux;
exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlZHV4LmpzIl0sIm5hbWVzIjpbImNyZWF0ZVN0b3JlIiwicmVkdWNlciIsInN0YXRlIiwibGlzdGVuZXJzIiwiZ2V0U3RhdGUiLCJkaXNwYXRjaCIsImFjdGlvbiIsImZvckVhY2giLCJsaXN0ZW5lciIsInN1YnNjcmliZSIsInB1c2giLCJ1bnN1YnNjcmliZSIsImwiLCJmaWx0ZXIiLCJjb21iaW5lUmVkdWNlcnMiLCJyZWR1Y2VycyIsImtleXMiLCJPYmplY3QiLCJuZXh0U3RhdGUiLCJyZWR1Y2UiLCJrZXkiLCJSZWR1eCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7QUFFQSxJQUFNQSxXQUFXLEdBQUcsU0FBZEEsV0FBYyxDQUFDQyxPQUFELEVBQWE7QUFDL0IsTUFBSUMsS0FBSjtBQUFBLE1BQ0lDLFNBQVMsR0FBRyxFQURoQjs7QUFHQSxNQUFNQyxRQUFRLEdBQUcsU0FBWEEsUUFBVyxHQUFNO0FBQ3JCLFdBQU9GLEtBQVA7QUFDRCxHQUZEOztBQUlBLE1BQU1HLFFBQVEsR0FBRyxTQUFYQSxRQUFXLENBQUNDLE1BQUQsRUFBWTtBQUMzQkosSUFBQUEsS0FBSyxHQUFHRCxPQUFPLENBQUNDLEtBQUQsRUFBUUksTUFBUixDQUFmO0FBRUFILElBQUFBLFNBQVMsQ0FBQ0ksT0FBVixDQUFrQixVQUFDQyxRQUFEO0FBQUEsYUFBY0EsUUFBUSxFQUF0QjtBQUFBLEtBQWxCO0FBQ0QsR0FKRDs7QUFNQSxNQUFNQyxTQUFTLEdBQUcsU0FBWkEsU0FBWSxDQUFDRCxRQUFELEVBQWM7QUFDOUJMLElBQUFBLFNBQVMsQ0FBQ08sSUFBVixDQUFlRixRQUFmO0FBRUEsV0FBUSxZQUFNO0FBQ1pHLE1BQUFBLFdBQVcsQ0FBQ0gsUUFBRCxDQUFYO0FBQ0QsS0FGRDtBQUdELEdBTkQ7O0FBUUEsTUFBTUcsV0FBVyxHQUFHLFNBQWRBLFdBQWMsQ0FBQ0MsQ0FBRCxFQUFPO0FBQ3pCVCxJQUFBQSxTQUFTLEdBQUdBLFNBQVMsQ0FBQ1UsTUFBVixDQUFpQixVQUFDTCxRQUFELEVBQWM7QUFDekMsYUFBUUEsUUFBUSxLQUFLSSxDQUFyQjtBQUNELEtBRlcsQ0FBWjtBQUdELEdBSkQ7O0FBTUFQLEVBQUFBLFFBQVEsQ0FBQyxFQUFELENBQVI7QUFFQSxTQUFPO0FBQUVELElBQUFBLFFBQVEsRUFBUkEsUUFBRjtBQUFZQyxJQUFBQSxRQUFRLEVBQVJBLFFBQVo7QUFBc0JJLElBQUFBLFNBQVMsRUFBVEEsU0FBdEI7QUFBaUNFLElBQUFBLFdBQVcsRUFBWEE7QUFBakMsR0FBUDtBQUNELENBL0JEOztBQWlDQSxJQUFNRyxlQUFlLEdBQUcsU0FBbEJBLGVBQWtCLENBQUNDLFFBQUQsRUFBYztBQUNwQyxTQUFPLFlBQXdCO0FBQUEsUUFBdkJiLEtBQXVCLHVFQUFmLEVBQWU7QUFBQSxRQUFYSSxNQUFXO0FBQzdCLFFBQU1VLElBQUksR0FBR0MsTUFBTSxDQUFDRCxJQUFQLENBQVlELFFBQVosQ0FBYjtBQUFBLFFBQ01HLFNBQVMsR0FBR0YsSUFBSSxDQUFDRyxNQUFMLENBQVksVUFBQ0QsU0FBRCxFQUFZRSxHQUFaLEVBQW9CO0FBQzFDLFVBQU1uQixPQUFPLEdBQUdjLFFBQVEsQ0FBQ0ssR0FBRCxDQUF4QjtBQUVBRixNQUFBQSxTQUFTLENBQUNFLEdBQUQsQ0FBVCxHQUFpQm5CLE9BQU8sQ0FBQ0MsS0FBSyxDQUFDa0IsR0FBRCxDQUFOLEVBQWFkLE1BQWIsQ0FBeEI7QUFFQSxhQUFPWSxTQUFQO0FBQ0QsS0FOVyxFQU1ULEVBTlMsQ0FEbEI7QUFTQSxXQUFPQSxTQUFQO0FBQ0QsR0FYRDtBQVlELENBYkQ7O0FBZUEsSUFBTUcsS0FBSyxHQUFHO0FBQUVyQixFQUFBQSxXQUFXLEVBQVhBLFdBQUY7QUFBZWMsRUFBQUEsZUFBZSxFQUFmQTtBQUFmLENBQWQ7ZUFFZU8sSyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5jb25zdCBjcmVhdGVTdG9yZSA9IChyZWR1Y2VyKSA9PiB7XG4gIGxldCBzdGF0ZSxcbiAgICAgIGxpc3RlbmVycyA9IFtdO1xuXG4gIGNvbnN0IGdldFN0YXRlID0gKCkgPT4ge1xuICAgIHJldHVybiBzdGF0ZTtcbiAgfTtcblxuICBjb25zdCBkaXNwYXRjaCA9IChhY3Rpb24pID0+IHtcbiAgICBzdGF0ZSA9IHJlZHVjZXIoc3RhdGUsIGFjdGlvbik7XG5cbiAgICBsaXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXIpID0+IGxpc3RlbmVyKCkpO1xuICB9O1xuXG4gIGNvbnN0IHN1YnNjcmliZSA9IChsaXN0ZW5lcikgPT4ge1xuICAgIGxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcblxuICAgIHJldHVybiAoKCkgPT4ge1xuICAgICAgdW5zdWJzY3JpYmUobGlzdGVuZXIpO1xuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IHVuc3Vic2NyaWJlID0gKGwpID0+IHtcbiAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuZmlsdGVyKChsaXN0ZW5lcikgPT4ge1xuICAgICAgcmV0dXJuIChsaXN0ZW5lciAhPT0gbCk7XG4gICAgfSk7XG4gIH07XG5cbiAgZGlzcGF0Y2goe30pO1xuXG4gIHJldHVybiB7IGdldFN0YXRlLCBkaXNwYXRjaCwgc3Vic2NyaWJlLCB1bnN1YnNjcmliZSB9O1xufTtcblxuY29uc3QgY29tYmluZVJlZHVjZXJzID0gKHJlZHVjZXJzKSA9PiB7XG4gIHJldHVybiAoc3RhdGUgPSB7fSwgYWN0aW9uKSA9PiB7XG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHJlZHVjZXJzKSxcbiAgICAgICAgICBuZXh0U3RhdGUgPSBrZXlzLnJlZHVjZSgobmV4dFN0YXRlLCBrZXkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlZHVjZXIgPSByZWR1Y2Vyc1trZXldO1xuXG4gICAgICAgICAgICBuZXh0U3RhdGVba2V5XSA9IHJlZHVjZXIoc3RhdGVba2V5XSwgYWN0aW9uKTtcblxuICAgICAgICAgICAgcmV0dXJuIG5leHRTdGF0ZTtcbiAgICAgICAgICB9LCB7fSk7XG5cbiAgICByZXR1cm4gbmV4dFN0YXRlO1xuICB9O1xufTtcblxuY29uc3QgUmVkdXggPSB7IGNyZWF0ZVN0b3JlLCBjb21iaW5lUmVkdWNlcnMgfTtcblxuZXhwb3J0IGRlZmF1bHQgUmVkdXg7XG4iXX0=